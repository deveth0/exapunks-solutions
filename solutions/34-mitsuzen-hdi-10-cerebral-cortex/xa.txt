MAKE
COPY M X
MARK LOOP
COPY M F
SEEK -1
TEST F < X
FJMP LOOP_NEXT
SEEK -1
COPY F T
SEEK -1
COPY X F
COPY T X
MARK LOOP_NEXT
@REP 3
TEST MRD
TJMP LOOP
@END

MODE
; FIRST MIN IS KNOWN
COPY X M

MARK FIND_START
SEEK -9999
TEST EOF
TJMP END
COPY F X
SEEK -1
VOID F

MARK FIND_MIN
TEST EOF
TJMP FIND_FOUND
TEST F < X
TJMP FIND_SWAP
JUMP FIND_MIN

MARK FIND_FOUND
; FOUND MINIMUM IN X
COPY X M
JUMP FIND_START

MARK END
COPY -1 M
HALT

MARK FIND_SWAP
SEEK -1
COPY F T
SEEK -1
COPY X F
COPY T X
JUMP FIND_MIN
