MAKE
LINK 800
LINK 799
COPY 0 F
COPY 5 F

MARK CHECK
@REP 5
MARK ZGC@{0,1}
TEST #ZGC@{0,1} > X
TJMP NEW_MAX@{0,1}
@END

; FOUND MAX
MARK FOUND
SEEK -9999
COPY F T
REPL CHILD
SUBI F 1 T
FJMP DIE
; WRITE NEW REMAINING
SEEK -1
COPY T F
COPY 0 X
; ENSURE DISABLE IS DONE
COPY 1 M
JUMP CHECK

@REP 4
MARK NEW_MAX@{0,1}
SEEK -9999
COPY @{0,1} F
COPY #ZGC@{0,1} X
JUMP ZGC@{1,1}
@END
MARK NEW_MAX4
SEEK -9999
COPY 4 F
JUMP FOUND


NOTE NUM INDEX
MARK START
SEEK -10
COPY F X

MARK COMPARE
@REP 4
SEEK 1
TEST F > X
FJMP N@{0,1}
SEEK -1
COPY F X
MARK N@{0,1}
@END


MARK CHILD
LINK -1
LINK 798
MARK NAVI
FJMP DISABLE
SUBI T 1 T
LINK 800
JUMP NAVI

MARK DIE
COPY 1 M
WIPE
HALT

MARK DISABLE
COPY 0 #POWR
VOID M
